<html>
  <head>
	<meta charset="UTF-8">
	<title>The web site of pdpdpd</title>
  </head>
  <body>
    
	
	
	
	<h3>You're bidding on</h3>
	<br>
	Your name:
	<input type="text" id="name" value="">
	<br>
	<br>
	Your e-mail:
	<input type="text" id="email" value="">
	<br>
	<br>
	What are you bidding on?
	<select id="productselect">
		<option value="default">------</option>
	</select>
	<br>
	<br>
	Your bid amount:
	<input type="number" id="bid" value="0.00">
	<br>
	<br>
	<form action="https://www.google.com">
	<input type="submit" value="Submit Bid!" />
<input type="submit" value="lol" id="anniesbutton"/>
</form>

	<script src="https://www.gstatic.com/firebasejs/3.7.5/firebase.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyD-9tEzl7wjVSJiMnZPMrcyse3aVv-8KMQ",
        authDomain: "rebay-for-now.firebaseapp.com",
        databaseURL: "https://rebay-for-now.firebaseio.com",
        projectId: "rebay-for-now",
        storageBucket: "rebay-for-now.appspot.com",
        messagingSenderId: "235921736126"
    };
    firebase.initializeApp(config);
    
    
    //annies shit
   anniesbutton.onclick=function(){
          console.log(window.location.href);
   };
    
    
    
        //read data first
   const dbRefObject = firebase.database().ref();
    const dbRefList = dbRefObject.child('product');

    
    
    //get elements
    var name = document.getElementById("name").value;
    var bid = document.getElementById("bid").value;
    
    var productIDarray = [];
    var i = 0;
    dbRefObject.on('value', snap => {
    	snap.forEach(function(baby) {
    		console.log(baby.val());
    		productIDarray[i] = baby.val();
    		console.log(productIDarray);
    		i = i + 1;
    	})
    });
    
    var bnamearray = [];
    var offerarray = [];
    var pnamearray = [];
    var pdesarray = [];
    var categoryarray = [];
    var productselect = document.getElementById("productselect");

    i = 0;
    dbRefList.on('value', snap => {
        snap.forEach(function(baby) {
        bnamearray[i] = baby.val().bName;
        offerarray[i] = baby.val().bOffer;
        pnamearray[i] = baby.val().productName;
        pdesarray[i] = baby.val().productDescription;
        categoryarray[i] = baby.val().productCategory;
        i = i + 1;
    });
    for (i=0; i < pnamearray.length; i++) {
    	var newOption = document.createElement("option");
			newOption.text = bnamearray[i];
			newOption.value = 'some value if you want it';
			productselect.appendChild(newOption);
    };
    });
    
    console.log("hi");
    //add options
    

    // sync object changes
    // dbRefObject.on('value', snap => {
    //     preObject.innerText = JSON.stringify(snap.val(), null, 3);
    // });
    //preObject.innerText = snap.val().bName;
    
    
    
    
    

				// //write data back
				// function writeUserData(sname, product_interest, price) {
    //         firebase.database().ref('buyer').set({
    //             name: sname,
    //             product_interest: product_interest,
    //             price: price
    //         });
    //     };

</script>
  </body>
</html>
